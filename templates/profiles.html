{% extends "base.html" %}
{% block content %}
<div class="mb-6 flex items-center justify-between">
  <h2 class="text-2xl font-bold">Runner profiles</h2>
  <a href="{{ url_for('new_profile') }}" class="rounded-xl border border-emerald-400 px-4 py-2 font-semibold text-emerald-400 hover:bg-emerald-950/40">
    Create Profile
  </a>
</div>

{% if profiles %}
  <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3">
    {% for p in profiles %}
      <div class="rounded-2xl border border-neutral-800 bg-neutral-900 p-4 shadow-sm">
        <div class="mb-2 flex items-center justify-between">
          <h3 class="text-lg font-bold">{{ p.name }}</h3>
        </div>
        <p class="text-sm"><span class="font-semibold">Pace:</span> {{ '%.2f'|format(p.pace) }} min/km</p>
        {% if p.fav_distance %}<p class="text-sm"><span class="font-semibold">Fav distance:</span> {{ p.fav_distance }}</p>{% endif %}
        {% if p.city %}<p class="text-sm"><span class="font-semibold">City:</span> {{ p.city }}</p>{% endif %}
        {% if p.bio %}<p class="mt-2 text-sm text-neutral-400">{{ p.bio }}</p>{% endif %}
        <a class="mt-3 inline-block rounded-xl bg-emerald-400 px-3 py-2 font-semibold text-black hover:brightness-95"
           href="{{ url_for('matches') }}?for={{ p.id }}">Find matches</a>
      </div>
    {% endfor %}
  </div>
{% else %}
  <div class="rounded-2xl border border-neutral-800 bg-neutral-900 p-6 text-center">
    <p class="text-neutral-300">No profiles yet.</p>
    <a class="mt-3 inline-block rounded-xl bg-emerald-400 px-4 py-2 font-semibold text-black hover:brightness-95"
       href="{{ url_for('new_profile') }}">Create the first one</a>
  </div>
{% endif %}
{% endblock %}
